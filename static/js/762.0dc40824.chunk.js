"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[762],{9493:function(t,e,a){a.d(e,{v:function(){return I}});var n=a(9439),o=a(2791),r=a(9434),c=a(6856),s=a(6355),i={btn:"AddToFavorBtn_btn__b8bkG",favoriteBtn:"AddToFavorBtn_favoriteBtn__SrGwM"},l=a(3524),d=a(3634),m=a(184),u=function(t){var e=t.contactId,a=t.isFavorite,n=(0,r.I0)();return(0,m.jsx)("button",{className:"".concat(i.favoriteBtn," ").concat(i.btn),onClick:function(){return n((0,d.B0)({contactId:e,favorite:!a}))},children:a?(0,m.jsx)(l.HYW,{size:20,className:i.star,color:"var(--priority-text-color)"}):(0,m.jsx)(l.gXg,{size:20,className:i.star,color:"var(--priority-text-color)"})})},_=a(9126),h=a(8820),x=a(7144),v="AvatarContact_avatar__A-Cbo",j=function(t){var e=t.avatarURL,a=t.name;return(0,m.jsx)(m.Fragment,{children:e?(0,m.jsx)(x.Z,{alt:"avatar",src:e,sx:{width:60,height:60}}):(0,m.jsx)("img",{src:"https://ui-avatars.com/api/?name=".concat(a,"&length=1&background=8C8375&color=E2DED9&font-size=0.6"),alt:"avatar",className:v})})},p={form:"EditContactForm_form__L+B1Z",editPhoto:"EditContactForm_editPhoto__TlRq7",editIcon:"EditContactForm_editIcon__SHjeh",info:"EditContactForm_info__nMBBW",input:"EditContactForm_input__+zEeD",inputName:"EditContactForm_inputName__+iebB",inputPhone:"EditContactForm_inputPhone__ke+RS",inputBirthday:"EditContactForm_inputBirthday__sd4Oo",icon:"EditContactForm_icon__A0SiV",btn:"EditContactForm_btn__XVbTs",number:"EditContactForm_number__ytEbj",birthday:"EditContactForm_birthday__Ly3W-",closeBtn:"EditContactForm_closeBtn__L2cgA",checkBtn:"EditContactForm_checkBtn__pmi8q"},f=function(t){var e=t.onStopChange,a=t.onSubmit,r=t.contact,s=r.name,i=r.phone,l=r.avatarURL,d=r._id,v=r.favorite,f=r.birthday,y=(0,o.useState)(s),N=(0,n.Z)(y,2),b=N[0],C=N[1],g=(0,o.useState)(i),F=(0,n.Z)(g,2),w=F[0],L=F[1],S=(0,o.useState)(null),B=(0,n.Z)(S,2),I=B[0],D=B[1],z=f?new Date(f).toISOString().slice(0,10):"",U=(0,o.useState)(z),k=(0,n.Z)(U,2),Z=k[0],E=k[1];return(0,m.jsxs)("form",{className:p.form,onSubmit:a,autoComplete:"off",children:[(0,m.jsx)("input",{type:"file",name:"avatar",id:"avatar",accept:"image/*",className:"visually-hidden",onChange:function(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=function(t){D(t.target.result)},e.readAsDataURL(t.target.files[0])}}}),(0,m.jsxs)("div",{className:p.editPhoto,children:[I?(0,m.jsx)(x.Z,{src:"".concat(I),alt:"avatar",sx:{width:60,height:60}}):(0,m.jsx)(j,{avatarURL:l,name:s}),(0,m.jsx)("label",{htmlFor:"avatar",children:(0,m.jsx)(c.U$P,{size:20,className:p.editIcon,color:"var(--priority-text-color)"})})]}),(0,m.jsxs)("div",{className:p.info,children:[(0,m.jsx)("label",{className:p.label,children:(0,m.jsx)("input",{className:"".concat(p.input," ").concat(p.inputName),type:"text",name:"name",value:b,onChange:function(t){C(t.target.value)},autoFocus:!0})}),(0,m.jsx)("label",{className:p.label,children:(0,m.jsxs)("div",{className:p.number,children:[(0,m.jsx)(_.UL8,{className:p.icon,color:"var(--priority-text-color)"}),(0,m.jsx)("input",{className:"".concat(p.input," ").concat(p.inputPhone),type:"tel",name:"phone",pattern:"[+]?[0-9]{10,15}",title:"Phone number should consist of 10 to 15 digits and may include the symbol '+'. For example, +123456789012",value:w,onChange:function(t){L(t.target.value)}})]})}),(0,m.jsx)("label",{children:(0,m.jsxs)("div",{className:p.birthday,children:[(0,m.jsx)(c.UiV,{className:"".concat(p.icon," icon"),size:20}),(0,m.jsx)("input",{name:"birthday",min:"1990-01-01",max:"2023-01-01",pattern:"\\d{2}-\\d{2}-\\d{4}",className:"".concat(p.input," ").concat(p.inputBirthday),value:Z,type:"date",onChange:function(t){console.log(t.target.value),E(t.target.value)}})]})})]}),(0,m.jsx)("button",{className:"".concat(p.btn," ").concat(p.checkBtn),type:"submit",children:(0,m.jsx)(h.KP3,{size:20,color:"var(--green-color)"})}),(0,m.jsx)("button",{className:"".concat(p.btn," ").concat(p.closeBtn),onClick:e,type:"button",children:(0,m.jsx)(h.SV5,{size:20,color:"var(--accent-color)"})}),(0,m.jsx)(u,{isFavorite:v,contactId:d})]})},y="ContactListItem_contact__gtH4X",N="ContactListItem_container__ARM-O",b="ContactListItem_userInfo__4HuKl",C="ContactListItem_name__cIBvF",g="ContactListItem_number__j2Ar0",F="ContactListItem_birthday__oPdDZ",w="ContactListItem_btn__Kdzd+",L="ContactListItem_icon__44oEf",S="ContactListItem_editBtn__QaU7j",B="ContactListItem_delBtn__Mczr7",I=function(t){var e=t.contact,a=(0,r.I0)(),i=(0,o.useState)(!1),l=(0,n.Z)(i,2),h=l[0],x=l[1];return(0,m.jsxs)("li",{className:y,children:[h?(0,m.jsx)("div",{className:N,children:(0,m.jsx)(f,{onStopChange:function(){x(!1)},onSubmit:function(t){t.preventDefault();var n=t.currentTarget,o={_id:e._id,name:n.elements.name.value,phone:n.elements.phone.value,avatar:t.target.elements.avatar.files[0]},r=n.elements.birthday.value;r&&""!==r.trim()&&(o.birthday=r),a((0,d.mP)(o)),n.reset(),x(!1)},contact:e})}):(0,m.jsxs)("div",{className:N,children:[(0,m.jsx)(j,{avatarURL:e.avatarURL,name:e.name}),(0,m.jsxs)("div",{className:b,children:[(0,m.jsx)("p",{className:C,children:e.name}),(0,m.jsxs)("div",{className:g,children:[(0,m.jsx)(_.UL8,{className:L,color:"var(--priority-text-color)"}),(0,m.jsx)("p",{children:e.phone})]}),e.birthday&&(0,m.jsxs)("div",{className:F,children:[(0,m.jsx)(c.UiV,{size:20,color:"var(--accent-color)",className:L}),(0,m.jsx)("p",{children:"".concat(new Date(e.birthday).getDate(),".").concat(new Date(e.birthday).getMonth()+1,".").concat(new Date(e.birthday).getFullYear())})]})]}),(0,m.jsx)("button",{className:"".concat(S," ").concat(w),onClick:function(){x(!0)},children:(0,m.jsx)(s.fmQ,{size:20,color:"var(--priority-text-color)"})}),(0,m.jsx)(u,{isFavorite:e.favorite,contactId:e._id})]}),(0,m.jsx)("button",{className:"".concat(B," ").concat(w),onClick:function(){a((0,d.GK)(e._id))},children:(0,m.jsx)(c.ZkW,{size:20,color:"var(--priority-text-color)"})})]},e.id)}},1543:function(t,e,a){a.d(e,{q:function(){return c}});var n=a(3524),o="NoFoundMessage_wrapper__gFQAK",r=a(184),c=function(t){var e=t.message;return(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)(n.IRg,{size:60,color:"var(--priority-text-color)"}),(0,r.jsx)("p",{children:e})]})}},7340:function(t,e,a){a.r(e),a.d(e,{default:function(){return pt}});var n=a(2791),o=a(9434),r=a(6355),c=a(1413),s=a(9439),i=a(6864),l=a(3492),d=(a(4657),a(6856)),m=a(7144),u=a(203),_=a(8820),h=a(9126),x=a(6727),v=a(3634),j=a(2946),p="ContactForm_form__dhl+T",f="ContactForm_photoLabel__yKyZx",y="ContactForm_editIcon__6F6QY",N="ContactForm_label__-cVXI",b="ContactForm_title__jZguf",C="ContactForm_input__Bl93P",g="ContactForm_inputWrapper__9zhfJ",F="ContactForm_icon__wGMYw",w="ContactForm_datePicker__+m2d8",L="ContactForm_calendar__+yEvR",S="ContactForm_submit__eYq7N",B="ContactForm_error__C1smZ",I=a(184),D=x.Ry().shape({name:x.Z_().min(1,"Too Short!").max(30,"Too Long!")}),z=function(t){var e=t.onClose,a=(0,n.useState)(null),r=(0,s.Z)(a,2),x=r[0],z=r[1],U=(0,n.useState)(null),k=(0,s.Z)(U,2),Z=k[0],E=k[1],M=(0,o.I0)(),A=(0,o.v9)(j.Af),P=(0,n.useState)(""),R=(0,s.Z)(P,2),T=R[0],Y=R[1];return(0,I.jsx)(i.J9,{initialValues:{avatarURL:"",name:"",phone:"",birthday:null},validationSchema:D,onSubmit:function(t){0!==A.filter((function(e){return e.name===t.name})).length?alert("".concat(t.name," is already in contacts.")):(M(""!==T?(0,v.uK)((0,c.Z)((0,c.Z)({},t),{},{birthday:"".concat(new Date(T).getFullYear(),"-").concat(new Date(T).getMonth()+1,"-").concat(new Date(T).getDate()),avatarURL:Z})):(0,v.uK)((0,c.Z)((0,c.Z)({},t),{},{avatarURL:Z}))),e())},children:(0,I.jsxs)(i.l0,{className:p,children:[(0,I.jsx)("input",{type:"file",name:"avatarURL",id:"avatar",accept:"image/*",className:"visually-hidden",onChange:function(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=function(t){z(t.target.result)},e.readAsDataURL(t.target.files[0]),E(t.target.files[0])}}}),x?(0,I.jsxs)("label",{for:"avatar",className:f,children:[(0,I.jsx)(m.Z,{src:x,alt:"avatar",sx:{width:80,height:80}}),(0,I.jsx)(d.U$P,{size:24,className:y,color:"var(--priority-text-color)"})]}):(0,I.jsx)("label",{htmlFor:"avatar",className:f,children:(0,I.jsx)(m.Z,{sx:{bgcolor:"#8C8375",width:80,height:80},children:(0,I.jsx)(d.OhX,{size:40})})}),(0,I.jsxs)("label",{className:N,children:[(0,I.jsxs)("span",{className:b,children:["Name",(0,I.jsx)("span",{style:{color:"var(--accent-color)"},children:" *"})]}),(0,I.jsxs)("div",{className:g,children:[(0,I.jsx)(i.gN,{type:"text",name:"name",className:C,required:!0}),(0,I.jsx)(u.aYU,{className:"".concat(F," icon")})]}),(0,I.jsx)(i.Bc,{className:B,name:"name",component:"p"})]}),(0,I.jsxs)("label",{className:N,children:[(0,I.jsxs)("span",{className:b,children:["Phone number",(0,I.jsx)("span",{style:{color:"var(--accent-color)"},children:" *"})]}),(0,I.jsxs)("div",{className:g,children:[(0,I.jsx)(i.gN,{type:"tel",name:"phone",className:C,pattern:"[+]?[0-9]{10,15}",title:"Phone number should consist of 10 to 15 digits and may include the symbol '+'. For example, +123456789012",required:!0}),(0,I.jsx)(h.UL8,{className:"".concat(F," icon")})]}),(0,I.jsx)(i.Bc,{className:B,name:"number",component:"p"})]}),(0,I.jsxs)("label",{className:N,children:[(0,I.jsx)("span",{className:b,children:"Birthday"}),(0,I.jsxs)("div",{className:g,children:[(0,I.jsx)(l.Z,{onChange:Y,value:T,className:w,calendarClassName:L,dayPlaceholder:"dd",monthPlaceholder:"mm",yearPlaceholder:"yyyy",clearIcon:(0,I.jsx)(_.SV5,{size:20,color:"var(--priority-text-color)"}),calendarIcon:(0,I.jsx)(u.e_d,{size:20,color:"var(--priority-text-color)"}),format:"dd.MM.y",openCalendarOnFocus:!1,maxDate:new Date,minDate:new Date("1900-01-01")}),(0,I.jsx)(d.UiV,{className:"".concat(F," icon"),size:20})]})]}),(0,I.jsx)("button",{className:S,type:"submit",children:"Add new contact"})]})})},U=a(4164),k="Modal_overlay__r63M6",Z="Modal_modal__DJDMv",E="Modal_close__V34Fj",M=document.querySelector("#modal-root"),A=function(t){var e=t.onClose,a=t.children;(0,n.useEffect)((function(){var t=function(t){"Escape"===t.code&&e()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]);return(0,U.createPortal)((0,I.jsx)("div",{className:k,onClick:function(t){t.currentTarget===t.target&&e()},children:(0,I.jsxs)("div",{className:Z,children:[(0,I.jsx)("button",{className:E,type:"button",onClick:e,children:(0,I.jsx)(_.SV5,{size:20,color:"var(--priority-text-color)"})}),a]})}),M)},P=a(2918),R={btn:"AddNewContactBtn_btn__32fQo",icon:"AddNewContactBtn_icon__340Fh"},T=function(){var t=(0,P.d)(),e=t.showModal,a=t.openModal,n=t.closeModal;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("button",{onClick:a,className:R.btn,children:[(0,I.jsx)(r.Bj$,{size:18,className:R.icon}),"Add new"]}),e&&(0,I.jsx)(A,{onClose:n,modalClass:R.orderNowModal,children:(0,I.jsx)(z,{onClose:n})})]})},Y=a(4808),V=a(7692),q="Filter_filter__vxThR",K="Filter_input__N7T3z",W="Filter_inputWrapper__-FNL8",G="Filter_icon__YUraL",H=function(){var t=(0,o.v9)(j.AD),e=(0,o.I0)();return(0,I.jsx)("label",{className:q,children:(0,I.jsxs)("div",{className:W,children:[(0,I.jsx)("input",{className:K,placeholder:"Search a contact by the name...",type:"text",value:t,onChange:function(t){e((0,Y.M)(t.target.value))}}),(0,I.jsx)(V.wnI,{size:18,className:"".concat(G," icon")})]})})},O=a(1315),Q=a(8617),X=a(1538),J="SortBy_container__t1gPI",$="SortBy_wrapper__I6T0f",tt="SortBy_control__Jw7II",et="SortBy_placeholder__N1u5x",at="SortBy_menu__RkoIy",nt="SortBy_option__Sil+m",ot=function(){var t=(0,o.I0)(),e=(0,o.v9)(j.C9),a=[{value:"",label:"Default",className:nt},{value:"name",label:"Name",className:nt},{value:"last",label:"Last updated",className:nt},{value:"birthday",label:"Birthday",className:nt}];return(0,n.useEffect)((function(){t((0,v.yF)(e))}),[t,e]),(0,I.jsx)("div",{className:J,children:(0,I.jsx)(O.Z,{options:a,placeholder:"Sort by",className:$,controlClassName:tt,placeholderClassName:et,menuClassName:at,onChange:function(e){return t((0,X.z)(e.value))},arrowClosed:(0,I.jsx)("span",{className:"arrow-open",children:(0,I.jsx)(Q.kWQ,{size:18,color:"var(--secondary-text-color)"})}),arrowOpen:(0,I.jsx)("span",{className:"arrow-open",children:(0,I.jsx)(Q.ALZ,{size:18,color:"var(--secondary-text-color)"})})})})},rt="ControlSection_section__H7Llf",ct="ControlSection_wrapper__rh4k+",st=function(){return(0,I.jsxs)("section",{className:rt,children:[(0,I.jsxs)("div",{className:ct,children:[(0,I.jsx)(T,{}),(0,I.jsx)(ot,{})]}),(0,I.jsx)(H,{})]})},it=a(1543),lt=a(9493),dt="ContactsList_contacts__gnzMi",mt="ContactsList_birthday__ZH2Ip",ut=function(){var t=(0,o.v9)(j.nG),e=(0,o.v9)(j.C9),a="",n=function(t){return t===a?(a=t,!1):(a=t,!0)};return(0,I.jsx)("ul",{className:dt,children:t.map((function(t){return(0,I.jsxs)(I.Fragment,{children:["name"===e&&n(t.name[0])&&(0,I.jsxs)("p",{children:[" ",t.name[0]]}),"last"===e&&(0,I.jsxs)("p",{children:[" ",new Date(t.updatedAt).toLocaleString("en-US")]}),"birthday"===e&&t.birthday&&n(new Date(t.birthday).toLocaleString("en-US",{month:"long"}))&&(0,I.jsxs)("p",{className:mt,children:[new Date(t.birthday).toLocaleString("en-US",{month:"long"}),(new Date(t.nextBirthday).getFullYear()===(new Date).getFullYear()||new Date(t.nextBirthday).getFullYear()===(new Date).getFullYear()+1)&&(0,I.jsx)("p",{children:new Date(t.nextBirthday).getFullYear()})]}),"birthday"===e&&!t.birthday&&n(new Date(t.nextBirthday).getFullYear())&&(0,I.jsx)("p",{children:"Not given birthday"}),(0,I.jsx)(lt.v,{contact:t})]})}))})},_t=a(9251),ht="ContactsSection_title__TnUWX",xt=function(){var t=(0,o.v9)(j.nG),e=(0,o.v9)(j.AD),a=(0,o.v9)(j.xU),n=(0,o.v9)(j.zh);return(0,I.jsxs)("section",{children:[a&&!n&&(0,I.jsx)(_t.a,{}),0===t.length?(0,I.jsx)(it.q,{message:""===e?"You have not added contacts yet.":'Contact name "'.concat(e,'" not found.')}):(0,I.jsxs)("h1",{className:ht,children:["My contacts (",t.length,")"]}),(0,I.jsx)(ut,{})]})},vt="MainContacts_mainContainer__dH98k",jt=function(){return(0,I.jsxs)("div",{className:vt,children:[(0,I.jsx)(st,{}),(0,I.jsx)(xt,{})]})};function pt(){var t=(0,o.I0)(),e=(0,o.v9)(j.C9),a=(0,o.v9)(j.Tc);return(0,n.useEffect)((function(){t((0,v.yF)({sort:e}))}),[t,e,a]),(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(jt,{})})}},2946:function(t,e,a){a.d(e,{AD:function(){return i},Af:function(){return o},C9:function(){return l},Tc:function(){return r},nG:function(){return d},xU:function(){return c},zh:function(){return s}});var n=a(6916),o=function(t){return t.contacts.items},r=function(t){return t.contacts.favorites},c=function(t){return t.contacts.isLoading},s=function(t){return t.contacts.error},i=function(t){return t.filter},l=function(t){return t.contacts.sortBy},d=(0,n.P1)([o,i],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))}}]);
//# sourceMappingURL=762.0dc40824.chunk.js.map